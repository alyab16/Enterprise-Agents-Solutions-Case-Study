{
  "correlation_id": "bc4d84fc-56c7-43ed-be13-230fbcd51eef",
  "account_id": "PERM-ERROR",
  "account_name": "PERM-ERROR",
  "decision": "BLOCK",
  "stage": "complete",
  "timestamp": "2026-02-01T00:58:33.553288",
  "risk_analysis": {
    "summary": "The onboarding process is currently stalled due to multiple missing critical components, including account, opportunity, contract, and invoice data, alongside significant permission errors across various systems.",
    "risk_level": "critical",
    "risks": [
      {
        "issue": "Missing account, opportunity, contract, and invoice data",
        "impact": "Without these essential elements, the customer cannot be properly onboarded, leading to potential revenue loss and customer dissatisfaction.",
        "urgency": "high"
      },
      {
        "issue": "Permission errors across Salesforce, CLM, and NetSuite",
        "impact": "These errors prevent access to necessary data and functionalities, hindering the onboarding process and delaying service delivery.",
        "urgency": "high"
      },
      {
        "issue": "Missing invoice details such as total amount and due date",
        "impact": "Inability to generate and send invoices can lead to cash flow issues and disrupt billing processes.",
        "urgency": "medium"
      }
    ],
    "recommended_actions": [
      {
        "action": "Resolve permission errors by reviewing user access levels and permissions in Salesforce, CLM, and NetSuite.",
        "owner": "IT/Technical Support",
        "priority": 1
      },
      {
        "action": "Gather and input missing account, opportunity, contract, and invoice data to complete the onboarding process.",
        "owner": "Customer Success Team",
        "priority": 2
      },
      {
        "action": "Ensure invoice details are complete, including total amount and due date, to facilitate billing.",
        "owner": "Finance Team",
        "priority": 3
      }
    ],
    "estimated_resolution_time": "2-4 weeks",
    "can_proceed_with_warnings": false
  },
  "violations": {
    "api_error": [
      "SALESFORCE API Error [INSUFFICIENT_ACCESS]: User lacks permission to access Salesforce objects",
      "CLM API Error [FORBIDDEN]: User lacks permission to access contracts in CLM",
      "NETSUITE API Error [INSUFFICIENT_PERMISSION]: User lacks permission to access NetSuite records"
    ],
    "account": [
      "Account data missing"
    ],
    "user": [
      "User data missing"
    ],
    "opportunity": [
      "Opportunity data missing"
    ],
    "contract": [
      "Contract data missing"
    ],
    "invoice": [
      "Invoice ID is missing",
      "Invalid invoice status: PERMISSION_ERROR"
    ]
  },
  "warnings": {
    "invoice": [
      "Invoice total amount is missing",
      "Invoice due date is missing",
      "Customer email missing on invoice - cannot send reminders"
    ]
  },
  "api_errors": [
    {
      "system": "salesforce",
      "error_type": "authorization",
      "error_code": "INSUFFICIENT_ACCESS",
      "message": "Insufficient privileges to access Account",
      "http_status": 403,
      "timestamp": "2026-02-01T00:58:24.352869",
      "details": {
        "account_id": "PERM-ERROR",
        "operation": "get_account"
      },
      "resolution": "Check the integration user's profile and permission sets. Ensure they have Read access to Account, Opportunity, Contract, and User objects.",
      "description": "User lacks permission to access Salesforce objects",
      "owner": "Salesforce Admin"
    },
    {
      "system": "clm",
      "error_type": "authorization",
      "error_code": "FORBIDDEN",
      "message": "[FORBIDDEN] Access denied: cannot read contract (HTTP 403)",
      "http_status": 403,
      "timestamp": "2026-02-01T00:58:24.353233",
      "details": {
        "account_id": "PERM-ERROR",
        "operation": "get_contract"
      },
      "resolution": "Assign the 'Contract Reader' or 'Contract Administrator' role to the integration user in CLM.",
      "description": "User lacks permission to access contracts in CLM",
      "owner": "CLM Admin"
    },
    {
      "system": "netsuite",
      "error_type": "authorization",
      "error_code": "INSUFFICIENT_PERMISSION",
      "message": "[INSUFFICIENT_PERMISSION] You do not have permission to read invoice records (HTTP 403)",
      "http_status": 403,
      "timestamp": "2026-02-01T00:58:24.353548",
      "details": {
        "account_id": "PERM-ERROR",
        "operation": "get_invoice",
        "error_details": {
          "o:errorCode": "INSUFFICIENT_PERMISSION",
          "permission_required": "read",
          "record_type": "invoice"
        }
      },
      "resolution": "Verify the role assigned to the integration has the 'Invoice' permission. Check Lists > Employees > Integration User > Access tab.",
      "description": "User lacks permission to access NetSuite records",
      "owner": "NetSuite Admin"
    }
  ],
  "actions_taken": [],
  "notifications_sent": [
    {
      "channel": "slack",
      "recipient": "#cs-onboarding-alerts",
      "message": "Blocked notification sent for PERM-ERROR",
      "type": "slack"
    }
  ],
  "provisioning": null
}